-----------分界线，上述需求已经处理，请忽略------------------

1、需要实现微信登录功能，登录成功后，获取用户信息，并保存到数据库中。
2、后续还有根据手机号、邮箱号登录的场景。判断当前user表字段是否能满足需求，如果不满足，请添加字段。
3、给出常用的实现方案。
4、 不同登录方式用一个接口还是多个接口？

需要确认的问题

1. 是否需要支持验证码登录？
   - 手机号+短信验证码
   - 邮箱+邮件验证码
   需要
2. 微信登录的具体场景？
   - 微信公众号（获取 code）
   - 微信小程序（获取 code）
   - 微信开放平台（APP）
   什么意思？
3. 密码登录方式？
   - 是否支持用户名+密码登录？
   - 是否支持手机号+密码登录？
   - 是否支持邮箱+密码登录？
   支持
4. 是否需要注册接口？
   - 各种登录方式首次登录时自动注册？
   - 还是需要独立的注册流程？
   微信登录时自动注册，账号、密码登录时需要注册

还需要确认的问题：

1. 微信登录的具体场景（如上面说明的A/B/C/D）
- A. 微信公众号（H5页面）
- B. 微信小程序
- C. 独立APP或PC网站
- D. 以上多种都需要
B、C

2. 验证码登录时是否自动注册？
   - 手机号+短信验证码首次登录时，是否自动创建账号？
   是
   - 邮箱+邮件验证码首次登录时，是否自动创建账号？
   是
3. 是否需要账号绑定功能？
   - 例如：已有账号的用户，能否绑定微信？
   是
   - 已通过微信登录的用户，能否设置密码或绑定手机号？
   可以

在开始实现之前，请确认：

1. 是否分阶段实现？ 还是一次性实现所有功能？
一次性
2. 短信服务商选择？ 阿里云 / 腾讯云 / 其他？（可以先预留接口）
预留接口
3. 是否需要图形验证码？ 防止恶意发送验证码
暂不需要，后端控制一个手机号一分钟只能发送一次验证码，验证码有效期5分钟。5分钟内最多发送3次验证码。
4. Token有效期设置？
   - access_token：建议 2小时
   - refresh_token：建议 7天
   两种token区别？



# 说明
1. 已完成的需求追加到demand_tree_completed.md中，不需要修改本文件.
2. 忽略最后出现的“-----------分界线，上述需求已经处理，请忽略------------------”字样以上的需求
3. 请先给出你的理解，有问题提出来。