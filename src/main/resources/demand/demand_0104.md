浏览历史新增清空接口， 删除当前用户所有浏览历史，userId从UserUtil中获取
-----------分界线，上述需求已经处理，请忽略------------------
清空浏览历史接口新增内容类型字段。通过类型清空
不需要 LEFT JOIN content 表来过滤内容类型，brow se_history 表中新增contentType字段。

问题确认：
1. 对于历史数据（已存在但没有 content_type 的记录），是否需要数据迁移？
不处理。
2. 是否需要更新 BrowseHistoryDTO，让分页查询也返回 contentType？
需要

-----------分界线，上述需求已经处理，请忽略------------------
1. 登录接口新增生成token逻辑

疑问：
1. 登录验证方式：
    - 是用户名/密码登录？
    - 还是微信登录（使用 openid）？
    - 还是两种方式都支持？
   都支持
2. 登录请求参数：
   - 是否需要创建一个 LoginReq 对象来规范登录参数？
   - 还是继续使用当前的 Object 参数？
   创建LoginReq  对象
3. Token返回方式：
   - 只返回 access token？
   - 还是同时返回 access token 和 refresh token？
   同时返回
4. 用户验证逻辑：
   - 是否需要验证用户名和密码匹配？
   - 还是暂时跳过验证，只要能查到用户就生成 token？
     验证用户名和密码
   
-----------分界线，上述需求已经处理，请忽略------------------
browseHistoryDao.updateById(existingRecord);更新isDeleted失败
-----------分界线，上述需求已经处理，请忽略------------------
已经存在已删除的浏览记录时，插入 新的浏览记录失败。

-----------分界线，上述需求已经处理，请忽略------------------
实现注册功能；
1、微信登录时，自动注册；
2、邮箱、密码注册，需要邮箱验证码；


在实现之前，我需要确认以下细节：

邮件注册暂不实现；

3. 微信自动注册

- 自动注册时，用户的默认信息如何设置？
   - 用户名：使用微信昵称？还是生成随机用户名？
  微信昵称；
   - 角色：默认为 USER？y
   - 状态：默认为启用（status=1）？y

下列微信登录流程是否合理？
1. 前端uni.login() 获取微信登录 code
2. 前端将 code 发给后端
3. 后端用 code + appSecret 换取 openid
4. 后端保存用户信息并返回token


/wechat-login新增昵称、头像url字段

-- ----------------分界线，上述需求已经处理，请忽略------------------
配置全局接口超时时间，默认10s，支持配置。

需要确认的问题

1. 超时配置的作用范围：
   - 是配置 HTTP客户端（RestTemplate等）调用外部API的超时时间？
   - 还是配置 服务端接口处理请求的超时时间？
   - 还是两者都需要？
   两者都需要
2. 超时类型（如果是HTTP客户端）：
   - 连接超时（Connection Timeout）：默认10s？
   - 读取超时（Read Timeout）：默认10s？
   - 还是两者都设置为10s？
   两者都设置10s
3. 配置方式：
   - 在 application.yml 中配置？
   - 配置项的key命名偏好（如 myapp.http.timeout 或 http.client.timeout）？
可以

-----------分界线，上述需求已经处理，请忽略------------------
IPage<BrowseHistoryDTO> resultPage = browseHistoryMapper.selectPageWithContentTitle(page, pageReq);
不使用join，改为先查浏览历史表，再查内容表。注意imageUrlList字段赋值情况。
# 说明
1. 已完成的需求追加到demand_tree_completed.md中，不需要修改本文件.
2. 忽略最后出现的“-----------分界线，上述需求已经处理，请忽略------------------”字样以上的需求
3. 请先给出你的理解，有问题提出来。